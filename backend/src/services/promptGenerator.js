/**
 * 生成教材生成的提示词
 * @param {string} content - 原始内容
 * @param {object} config - 用户配置
 * @returns {string} - 完整的提示词
 */
export function generatePrompt(content, config = {}) {
  const {
    level = 'B1',
    vocabRange = '2000-4000',
    goals = ['词汇', '语法'],
    outputLanguage = '中文',
    subtitleFormat = '纯文本',
    style = '完整版'
  } = config;

  const goalsText = goals.join('、');

  return `你是一位专业的英语教学专家。请根据以下内容和要求,生成一份结构化的英语教学材料。

## 原始内容

${content}

## 教学要求

- **难度级别**: ${level}
- **词汇量范围**: ${vocabRange}
- **学习目标**: ${goalsText}
- **输出语言**: ${outputLanguage}
- **字幕格式**: ${subtitleFormat}
- **输出风格**: ${style}

## 输出格式要求

请按照以下9个章节生成教学材料,使用Markdown格式:

### 0. 参数回显
回显上述所有教学要求参数。

### 1. 内容总览
- 内容摘要(200-300字)
- 关键词(5-10个)
- 核心观点(3-5个要点)

### 2. 核心词汇表
以表格形式呈现,包含:
| 单词 | 音标 | 词性 | 中文释义 | 例句 |
根据难度级别选择10-20个核心词汇。

### 3. 高频短语与句型
- 列出5-10个高频短语
- 每个短语包含:中文释义、例句、使用场景

### 4. 语法与表达微课
- 识别2-3个重要语法点
- 每个语法点包含:规则说明、例句、练习题

### 5. 听力训练
- 设计3-5个填空题
- 设计3-5个判断题
- 提供答案和解析

### 6. 口语与写作任务
- 2-3个口语练习话题
- 1-2个写作任务
- 提供参考答案或思路

### 7. 场景扩展与模拟对话
- 设计1-2个相关场景
- 每个场景包含完整对话(4-6轮)
- 标注重点表达

### 8. 跟读与语音练习
- 选择5-8个重点句子
- 标注语音要点(连读、重音、语调)
- 提供练习建议

### 9. 巩固复习材料
- 生成10-15张Anki卡片格式(正面|背面)
- 提供7天复习计划

## 注意事项

1. 所有内容必须符合${level}难度级别
2. 词汇选择应在${vocabRange}范围内
3. 重点关注${goalsText}这些学习目标
4. ${outputLanguage === '双语' ? '提供中英文双语内容' : outputLanguage === '英文' ? '主要使用英文,关键术语提供中文注释' : '主要使用中文,保留英文原文'}
5. ${style === '简化版' ? '内容精简,突出重点' : '内容详尽,提供充分的例句和解释'}

请开始生成教学材料:`;
}
